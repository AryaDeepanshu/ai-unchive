import{View}from"./view.js";export class Image extends View{constructor(e){super("IMG"),null!=e&&this.setSource(e)}setSource(e){this.setAttribute("src",e),this.source=e}}export class Label extends View{constructor(e,t){super("P"),this.addStyleName("unchive-label"),null!=e&&(t?this.setHTML(e):this.setText(e))}setText(e){this.domElement.innerText=e,this.text=e}setHTML(e){this.domElement.innerHTML=e,this.text=e}}export class Button extends View{constructor(e,t){super("BUTTON"),this.addStyleName("unchive-button"),t&&this.addStyleName("unchive-button--icon"),this.isIconButton=t,null!=e&&this.setHTML(e)}setHTML(e){this.domElement.innerHTML=this.isIconButton?'<i class="material-icons">'+e+"</>":e,this.text=e}addClickListener(e){this.domElement.addEventListener("click",e)}}export class Dropdown extends View{constructor(e,t){super("SELECT"),this.domElement.value=e,this.addStyleName("unchive-dropdown"),this.domElement.addEventListener("change",t)}addDropdownItem(e){this.addView(e)}getValue(){return this.domElement.value}setValue(e){this.domElement.value=e}}export class DropdownItem extends View{constructor(e){super("OPTION"),this.domElement.innerHTML=e,this.addStyleName("unchive-dropdown-item")}}export class Downloader{static downloadURL(e,t){var s=new View("A");s.domElement.href=e,s.domElement.target="_blank",s.domElement.download=t,s.domElement.click()}static downloadBlob(e,t){var s=URL.createObjectURL(e);this.downloadURL(s,t),URL.revokeObjectURL(s)}static downloadText(e,t){this.downloadBlob(new Blob([e],{type:"text/html"}),t)}}export class URLHandler{static getReqParams(){var e=window.location.search.substr(1);return null!=e&&""!=e?this.makeArray(e):{}}static makeArray(e){for(var t={},s=e.split("&"),i=0;i<s.length;i++){var o=s[i].split("=");t[o[0]]=o[1]}return t}}export class ScriptLoader{static loadScript(e,t){let s=document.createElement("SCRIPT");s.src=e,document.head.appendChild(s),s.onload=(()=>{t&&t()})}}export class AssetFormatter{static formatSize(e){for(var t=0;e>1e3;)e/=1e3,t++;return parseInt(e)+["B","kB","mB","gB","tB","pB"][t]}}export class Dialog extends View{constructor(e,t){super("DIV"),this.addStyleName("unchive-dialog"),this.titleView=new Label(e,!0),this.titleView.addStyleName("unchive-dialog__title"),this.contentView=new Label(t,!0),this.contentView.addStyleName("unchive-dialog__content"),this.addView(this.titleView),this.addView(this.contentView),this.glass=new View("DIV"),this.glass.addStyleName("unchive-dialog__glass")}open(){RootPanel.addView(this),RootPanel.addView(this.glass)}close(){RootPanel.removeView(this),RootPanel.removeView(this.glass)}}